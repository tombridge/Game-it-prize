<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–≥—Ä–æ–≤–æ–π –¥–∞—à–±–æ—Ä–¥</title>
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ TailwindCSS —á–µ—Ä–µ–∑ CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center">

  <!-- –ù–∞–≤–±–∞—Ä -->
  <nav class="fixed top-0 left-0 w-full bg-gray-800 p-4 flex justify-between items-center">
    <button id="openQuestModal" class="text-xl text-yellow-500 hover:text-yellow-400">?</button>
    <div class="text-lg font-bold">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</div>
    <button id="openAchievementsModal" class="text-xl text-blue-500 hover:text-blue-400">‚öôÔ∏è</button>
  </nav>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–∏–∞–ª–æ–≥–æ–º -->
  <div id="questModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-gray-700 p-6 rounded-lg shadow-lg max-w-md w-full relative">
      <button id="closeQuestModal" class="absolute top-2 right-2 text-red-500 hover:text-red-400 text-xl">&times;</button>
      <h2 class="text-xl font-bold mb-4">–¢–æ—Ä–≥–æ–≤–µ—Ü:</h2>
      <div id="dialogContent">
        <p>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é! –ß—Ç–æ —Å–∫–∞–∂–µ—à—å?</p>
        <div class="mt-4 space-y-2">
          <button id="greetButton" class="w-full bg-blue-500 hover:bg-blue-600 p-2 rounded">–ü—Ä–∏–≤–µ—Ç</button>
          <button id="howAreYouButton" class="w-full bg-green-500 hover:bg-green-600 p-2 rounded">–ö–∞–∫ –¥–µ–ª–∞?</button>
          <button id="listenButton" class="w-full bg-purple-500 hover:bg-purple-600 p-2 rounded">–°–ª—É—à–∞–π —á—Ç–æ —Å–∫–∞–∂—É!</button>
          <button id="byeButton" class="w-full bg-red-500 hover:bg-red-600 p-2 rounded">–ü–æ–∫–∞</button>
        </div>
      </div>
      <button id="backButton" class="hidden mt-4 w-full bg-gray-500 hover:bg-gray-600 p-2 rounded">–ù–∞–∑–∞–¥</button>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º -->
  <div id="achievementModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-gray-700 p-6 rounded-lg shadow-lg max-w-md w-full">
      <h2 class="text-xl font-bold mb-4">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!</h2>
      <p>–í—ã —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∏ —Ç–æ—Ä–≥–æ–≤—Ü—É –æ —Å–≤–æ–µ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç–∏!</p>
      <button id="achievementOkButton" class="mt-4 w-full bg-green-500 hover:bg-green-600 p-2 rounded">–û–∫</button>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Å–ø–∏—Å–∫–æ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
  <div id="achievementsListModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-gray-700 p-6 rounded-lg shadow-lg max-w-md w-full">
      <h2 class="text-xl font-bold mb-4">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</h2>
      <div class="flex flex-wrap gap-4 justify-center">
        <div class="text-center">
          <div id="achievementIcon1" class="w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mb-2">
            üåç
          </div>
          <p class="text-sm">–û—Ç–∫—Ä—ã—Ç–∏–µ –º–∏—Ä–∞</p>
        </div>
        <div class="text-center">
          <div id="achievementIcon2" class="w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mb-2">
            üíæ
          </div>
          <p class="text-sm">–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏</p>
        </div>
        <div class="text-center">
          <div id="achievementIcon3" class="w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mb-2">
            üí∏
          </div>
          <p class="text-sm">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ int16</p>
        </div>
      </div>
      <button id="closeAchievementsModal" class="mt-4 w-full bg-red-500 hover:bg-red-600 p-2 rounded">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script>
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    let achievementReceived = false;

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–∏–∞–ª–æ–≥–æ–º
    document.getElementById('openQuestModal').addEventListener('click', () => {
      document.getElementById('questModal').classList.remove('hidden');
      setupDialogListeners();
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–∏–∞–ª–æ–≥–æ–º
    const closeQuestModal = () => {
      document.getElementById('questModal').classList.add('hidden');
      resetDialog();
    };

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–∫—Ä–µ—Å—Ç–∏–∫"
    document.getElementById('closeQuestModal').addEventListener('click', closeQuestModal);

    // –°–±—Ä–æ—Å –¥–∏–∞–ª–æ–≥–∞ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
    const resetDialog = () => {
      document.getElementById('dialogContent').innerHTML = `
        <p>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é! –ß—Ç–æ —Å–∫–∞–∂–µ—à—å?</p>
        <div class="mt-4 space-y-2">
          <button id="greetButton" class="w-full bg-blue-500 hover:bg-blue-600 p-2 rounded">–ü—Ä–∏–≤–µ—Ç</button>
          <button id="howAreYouButton" class="w-full bg-green-500 hover:bg-green-600 p-2 rounded">–ö–∞–∫ –¥–µ–ª–∞?</button>
          <button id="listenButton" class="w-full bg-purple-500 hover:bg-purple-600 p-2 rounded">–°–ª—É—à–∞–π —á—Ç–æ —Å–∫–∞–∂—É!</button>
          <button id="byeButton" class="w-full bg-red-500 hover:bg-red-600 p-2 rounded">–ü–æ–∫–∞</button>
        </div>
      `;
      document.getElementById('backButton').classList.add('hidden');
    };

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–∏–∞–ª–æ–≥–∞
    const setupDialogListeners = () => {
      document.getElementById('greetButton')?.addEventListener('click', () => {
        setDialogContent('–ü—Ä–∏–≤–µ—Ç!', true);
      });

      document.getElementById('howAreYouButton')?.addEventListener('click', () => {
        setDialogContent('–î–µ–ª–∞ –∏–¥—É—Ç, –∫–æ–Ω—Ç–æ—Ä–∞ –ø–∏—à–µ—Ç, –∫–∞—Å—Å–∏—Ä –¥–µ–Ω—å–≥–∏ –≤—ã–¥–∞—ë—Ç.', true);
      });

      document.getElementById('listenButton')?.addEventListener('click', () => {
        const humorText = "–Ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω int16... –≠—Ç–æ –∫–∞–∫ –±—ã—Ç—å –±–æ–≥–∞—á–æ–º, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ –∏–≥—Ä–µ!";
        setDialogContent('–°–ª—É—à–∞—é.', true, `
          <button id="tellLimitButton" class="w-full bg-yellow-500 hover:bg-yellow-600 p-2 rounded">${humorText}</button>
        `);

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏
        document.getElementById('tellLimitButton')?.addEventListener('click', () => {
          if (!achievementReceived) {
            achievementReceived = true;
            showAchievementModal();
            updateAchievementIcons();
          } else {
            setDialogContent('–ö—Ä—É—Ç–æ!', true);
          }
        });
      });

      document.getElementById('byeButton')?.addEventListener('click', closeQuestModal);
    };

    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
    const setDialogContent = (message, showBackButton, additionalButtons = '') => {
      document.getElementById('dialogContent').innerHTML = `
        <p>${message}</p>
        ${additionalButtons}
      `;
      if (showBackButton) {
        document.getElementById('backButton').classList.remove('hidden');
      } else {
        document.getElementById('backButton').classList.add('hidden');
      }
    };

    // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º
    const showAchievementModal = () => {
      document.getElementById('achievementModal').classList.remove('hidden');
    };

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º
    document.getElementById('achievementOkButton').addEventListener('click', () => {
      document.getElementById('achievementModal').classList.add('hidden');
      setDialogContent('–ö—Ä—É—Ç–æ!', true);
    });

    // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
    document.getElementById('backButton').addEventListener('click', () => {
      resetDialog();
      setupDialogListeners();
    });

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    document.getElementById('openAchievementsModal').addEventListener('click', () => {
      document.getElementById('achievementsListModal').classList.remove('hidden');
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    document.getElementById('closeAchievementsModal').addEventListener('click', () => {
      document.getElementById('achievementsListModal').classList.add('hidden');
    });

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    const updateAchievementIcons = () => {
      document.getElementById('achievementIcon3').classList.remove('bg-gray-500');
      document.getElementById('achievementIcon3').classList.add('bg-green-500');
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π
    setupDialogListeners();
  </script>
</body>
</html>
